{"ast":null,"code":"var _jsxFileName = \"E:\\\\DK Rabbit\\\\Mongo-React-Nest-Note-App\\\\frontend\\\\src\\\\components\\\\NotesPageLoggedInView.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { Button, Col, Row, Spinner } from \"react-bootstrap\";\nimport { FaPlus } from \"react-icons/fa\";\nimport * as NotesApi from \"../network/notes_api\";\nimport styles from \"../styles/NotesPage.module.css\";\nimport stylesUtils from \"../styles/utils.module.css\";\nimport AddEditNoteDialog from \"./AddEditNoteDialog\";\nimport Note from './Notes';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst NotesPageLoggedInView = () => {\n  _s();\n  const [notes, setNotes] = useState([]);\n  const [notesLoading, setNotesLoading] = useState(true);\n  const [showNotesLoadingError, setShowNotesLoadingError] = useState(false);\n  const [showAddNoteDialog, setShowAddNoteDialog] = useState(false);\n  const [noteToEdit, setNoteToEdit] = useState(null);\n  useEffect(() => {\n    async function loadNotes() {\n      try {\n        setShowNotesLoadingError(false);\n        setNotesLoading(true);\n        const notes = await NotesApi.fetchNotes();\n        setNotes(notes);\n      } catch (error) {\n        console.error(error);\n        setShowNotesLoadingError(true);\n      } finally {\n        setNotesLoading(false);\n      }\n    }\n    loadNotes();\n  }, []);\n  async function deleteNote(note) {\n    try {\n      await NotesApi.deleteNote(note._id);\n      setNotes(notes.filter(existingNote => existingNote._id !== note._id));\n    } catch (error) {\n      console.error(error);\n      alert(error);\n    }\n  }\n  const notesGrid = /*#__PURE__*/_jsxDEV(Row, {\n    xs: 1,\n    md: 2,\n    xl: 3,\n    className: `g-4 ${styles.noteGrid}`,\n    children: notes.map(note => /*#__PURE__*/_jsxDEV(Col, {\n      children: /*#__PURE__*/_jsxDEV(Note, {\n        note: note,\n        className: styles.note,\n        onNoteClicked: setNoteToEdit,\n        onDeleteNoteClicked: deleteNote\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 15\n      }, this)\n    }, note._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      className: `mb-4 ${stylesUtils.blockCenter} ${stylesUtils.flexCenter}`,\n      onClick: () => setShowAddNoteDialog(true),\n      children: [/*#__PURE__*/_jsxDEV(FaPlus, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), \"Add New Note\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), notesLoading && /*#__PURE__*/_jsxDEV(Spinner, {\n      animation: \"border\",\n      variant: \"primary\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 30\n    }, this), showNotesLoadingError && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Something went wrong. Please refresh the page.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 39\n    }, this), !notesLoading && !showNotesLoadingError && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: notes.length > 0 ? notesGrid : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"You don't have any notes yet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 19\n      }, this)\n    }, void 0, false), showAddNoteDialog && /*#__PURE__*/_jsxDEV(AddEditNoteDialog, {\n      onDismiss: () => setShowAddNoteDialog(false),\n      onNoteSaved: newNote => {\n        setNotes([...notes, newNote]);\n        setShowAddNoteDialog(false);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }, this), noteToEdit && /*#__PURE__*/_jsxDEV(AddEditNoteDialog, {\n      noteToEdit: noteToEdit,\n      onDismiss: () => setNoteToEdit(null),\n      onNoteSaved: updatedNote => {\n        setNotes(notes.map(existingNote => existingNote._id === updatedNote._id ? updatedNote : existingNote));\n        setNoteToEdit(null);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(NotesPageLoggedInView, \"bQW3aVtre5O+nD+4bhsNCYGtkDk=\");\n_c = NotesPageLoggedInView;\nexport default NotesPageLoggedInView;\nvar _c;\n$RefreshReg$(_c, \"NotesPageLoggedInView\");","map":{"version":3,"names":["useEffect","useState","Button","Col","Row","Spinner","FaPlus","NotesApi","styles","stylesUtils","AddEditNoteDialog","Note","jsxDEV","_jsxDEV","Fragment","_Fragment","NotesPageLoggedInView","_s","notes","setNotes","notesLoading","setNotesLoading","showNotesLoadingError","setShowNotesLoadingError","showAddNoteDialog","setShowAddNoteDialog","noteToEdit","setNoteToEdit","loadNotes","fetchNotes","error","console","deleteNote","note","_id","filter","existingNote","alert","notesGrid","xs","md","xl","className","noteGrid","children","map","onNoteClicked","onDeleteNoteClicked","fileName","_jsxFileName","lineNumber","columnNumber","blockCenter","flexCenter","onClick","animation","variant","length","onDismiss","onNoteSaved","newNote","updatedNote","_c","$RefreshReg$"],"sources":["E:/DK Rabbit/Mongo-React-Nest-Note-App/frontend/src/components/NotesPageLoggedInView.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { Button, Col, Row, Spinner } from \"react-bootstrap\";\r\nimport { FaPlus } from \"react-icons/fa\";\r\nimport { Note as NoteModel } from '../models/note';\r\nimport * as NotesApi from \"../network/notes_api\";\r\nimport styles from \"../styles/NotesPage.module.css\";\r\nimport stylesUtils from \"../styles/utils.module.css\";\r\nimport AddEditNoteDialog from \"./AddEditNoteDialog\";\r\nimport Note from './Notes';\r\n\r\nconst NotesPageLoggedInView = () => {\r\n\r\n    const [notes, setNotes] = useState<NoteModel[]>([]);\r\n    const [notesLoading, setNotesLoading] = useState(true);\r\n    const [showNotesLoadingError, setShowNotesLoadingError] = useState(false);\r\n\r\n    const [showAddNoteDialog, setShowAddNoteDialog] = useState(false);\r\n    const [noteToEdit, setNoteToEdit] = useState<NoteModel | null>(null);\r\n\r\n    useEffect(() => {\r\n        async function loadNotes() {\r\n          try {\r\n            setShowNotesLoadingError(false);\r\n            setNotesLoading(true);\r\n            const notes = await NotesApi.fetchNotes();\r\n            setNotes(notes);\r\n          } catch (error) {\r\n            console.error(error);\r\n            setShowNotesLoadingError(true);\r\n          } finally {\r\n            setNotesLoading(false);\r\n          }\r\n        }\r\n        loadNotes();\r\n      }, []);\r\n    \r\n      async function deleteNote(note: NoteModel) {\r\n        try {\r\n          await NotesApi.deleteNote(note._id);\r\n          setNotes(notes.filter(existingNote => existingNote._id !== note._id));\r\n        } catch (error) {\r\n          console.error(error);\r\n          alert(error);\r\n        }\r\n      }\r\n    \r\n      const notesGrid = \r\n        <Row xs={1} md={2} xl={3} className={`g-4 ${styles.noteGrid}`}>\r\n          {notes.map(note => (\r\n            <Col key={note._id}>\r\n              <Note \r\n                note={note} \r\n                className={styles.note}\r\n                onNoteClicked={setNoteToEdit}\r\n                onDeleteNoteClicked={deleteNote}\r\n              />\r\n            </Col>\r\n          ))}\r\n        </Row>\r\n    \r\n\r\n    return (\r\n        <>\r\n            <Button\r\n                className={`mb-4 ${stylesUtils.blockCenter} ${stylesUtils.flexCenter}`}\r\n                onClick={() => setShowAddNoteDialog(true)}>\r\n                <FaPlus />\r\n                Add New Note\r\n            </Button>\r\n            {notesLoading && <Spinner animation='border' variant='primary' />}\r\n            {showNotesLoadingError && <p>Something went wrong. Please refresh the page.</p>}\r\n            {!notesLoading && !showNotesLoadingError &&\r\n            <>\r\n                { notes.length > 0\r\n                ? notesGrid\r\n                : <p>You don't have any notes yet</p>\r\n                }\r\n            </>}\r\n            {showAddNoteDialog &&\r\n                <AddEditNoteDialog\r\n                onDismiss={() => setShowAddNoteDialog(false)}\r\n                onNoteSaved={(newNote) => {\r\n                    setNotes([...notes, newNote])\r\n                    setShowAddNoteDialog(false);\r\n                }}\r\n                />\r\n            }\r\n            {noteToEdit &&\r\n            <AddEditNoteDialog\r\n            noteToEdit={noteToEdit}\r\n            onDismiss={() => setNoteToEdit(null)}\r\n            onNoteSaved={(updatedNote) => {\r\n                setNotes(notes.map(existingNote => existingNote._id === updatedNote._id ? updatedNote : existingNote));\r\n                setNoteToEdit(null)\r\n            }}\r\n            />\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default NotesPageLoggedInView;"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,MAAM,EAAEC,GAAG,EAAEC,GAAG,EAAEC,OAAO,QAAQ,iBAAiB;AAC3D,SAASC,MAAM,QAAQ,gBAAgB;AAEvC,OAAO,KAAKC,QAAQ,MAAM,sBAAsB;AAChD,OAAOC,MAAM,MAAM,gCAAgC;AACnD,OAAOC,WAAW,MAAM,4BAA4B;AACpD,OAAOC,iBAAiB,MAAM,qBAAqB;AACnD,OAAOC,IAAI,MAAM,SAAS;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE3B,MAAMC,qBAAqB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAEhC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGlB,QAAQ,CAAc,EAAE,CAAC;EACnD,MAAM,CAACmB,YAAY,EAAEC,eAAe,CAAC,GAAGpB,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACqB,qBAAqB,EAAEC,wBAAwB,CAAC,GAAGtB,QAAQ,CAAC,KAAK,CAAC;EAEzE,MAAM,CAACuB,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGxB,QAAQ,CAAC,KAAK,CAAC;EACjE,MAAM,CAACyB,UAAU,EAAEC,aAAa,CAAC,GAAG1B,QAAQ,CAAmB,IAAI,CAAC;EAEpED,SAAS,CAAC,MAAM;IACZ,eAAe4B,SAASA,CAAA,EAAG;MACzB,IAAI;QACFL,wBAAwB,CAAC,KAAK,CAAC;QAC/BF,eAAe,CAAC,IAAI,CAAC;QACrB,MAAMH,KAAK,GAAG,MAAMX,QAAQ,CAACsB,UAAU,CAAC,CAAC;QACzCV,QAAQ,CAACD,KAAK,CAAC;MACjB,CAAC,CAAC,OAAOY,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;QACpBP,wBAAwB,CAAC,IAAI,CAAC;MAChC,CAAC,SAAS;QACRF,eAAe,CAAC,KAAK,CAAC;MACxB;IACF;IACAO,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,EAAE,CAAC;EAEN,eAAeI,UAAUA,CAACC,IAAe,EAAE;IACzC,IAAI;MACF,MAAM1B,QAAQ,CAACyB,UAAU,CAACC,IAAI,CAACC,GAAG,CAAC;MACnCf,QAAQ,CAACD,KAAK,CAACiB,MAAM,CAACC,YAAY,IAAIA,YAAY,CAACF,GAAG,KAAKD,IAAI,CAACC,GAAG,CAAC,CAAC;IACvE,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACpBO,KAAK,CAACP,KAAK,CAAC;IACd;EACF;EAEA,MAAMQ,SAAS,gBACbzB,OAAA,CAACT,GAAG;IAACmC,EAAE,EAAE,CAAE;IAACC,EAAE,EAAE,CAAE;IAACC,EAAE,EAAE,CAAE;IAACC,SAAS,EAAG,OAAMlC,MAAM,CAACmC,QAAS,EAAE;IAAAC,QAAA,EAC3D1B,KAAK,CAAC2B,GAAG,CAACZ,IAAI,iBACbpB,OAAA,CAACV,GAAG;MAAAyC,QAAA,eACF/B,OAAA,CAACF,IAAI;QACHsB,IAAI,EAAEA,IAAK;QACXS,SAAS,EAAElC,MAAM,CAACyB,IAAK;QACvBa,aAAa,EAAEnB,aAAc;QAC7BoB,mBAAmB,EAAEf;MAAW;QAAAgB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjC;IAAC,GANMlB,IAAI,CAACC,GAAG;MAAAc,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAOb,CACN;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;EAGV,oBACItC,OAAA,CAAAE,SAAA;IAAA6B,QAAA,gBACI/B,OAAA,CAACX,MAAM;MACHwC,SAAS,EAAG,QAAOjC,WAAW,CAAC2C,WAAY,IAAG3C,WAAW,CAAC4C,UAAW,EAAE;MACvEC,OAAO,EAAEA,CAAA,KAAM7B,oBAAoB,CAAC,IAAI,CAAE;MAAAmB,QAAA,gBAC1C/B,OAAA,CAACP,MAAM;QAAA0C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,gBAEd;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,EACR/B,YAAY,iBAAIP,OAAA,CAACR,OAAO;MAACkD,SAAS,EAAC,QAAQ;MAACC,OAAO,EAAC;IAAS;MAAAR,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EAChE7B,qBAAqB,iBAAIT,OAAA;MAAA+B,QAAA,EAAG;IAA8C;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,EAC9E,CAAC/B,YAAY,IAAI,CAACE,qBAAqB,iBACxCT,OAAA,CAAAE,SAAA;MAAA6B,QAAA,EACM1B,KAAK,CAACuC,MAAM,GAAG,CAAC,GAChBnB,SAAS,gBACTzB,OAAA;QAAA+B,QAAA,EAAG;MAA4B;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG;IAAC,gBAEvC,CAAC,EACF3B,iBAAiB,iBACdX,OAAA,CAACH,iBAAiB;MAClBgD,SAAS,EAAEA,CAAA,KAAMjC,oBAAoB,CAAC,KAAK,CAAE;MAC7CkC,WAAW,EAAGC,OAAO,IAAK;QACtBzC,QAAQ,CAAC,CAAC,GAAGD,KAAK,EAAE0C,OAAO,CAAC,CAAC;QAC7BnC,oBAAoB,CAAC,KAAK,CAAC;MAC/B;IAAE;MAAAuB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC,EAELzB,UAAU,iBACXb,OAAA,CAACH,iBAAiB;MAClBgB,UAAU,EAAEA,UAAW;MACvBgC,SAAS,EAAEA,CAAA,KAAM/B,aAAa,CAAC,IAAI,CAAE;MACrCgC,WAAW,EAAGE,WAAW,IAAK;QAC1B1C,QAAQ,CAACD,KAAK,CAAC2B,GAAG,CAACT,YAAY,IAAIA,YAAY,CAACF,GAAG,KAAK2B,WAAW,CAAC3B,GAAG,GAAG2B,WAAW,GAAGzB,YAAY,CAAC,CAAC;QACtGT,aAAa,CAAC,IAAI,CAAC;MACvB;IAAE;MAAAqB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC;EAAA,eAEJ,CAAC;AAEX,CAAC;AAAAlC,EAAA,CAzFKD,qBAAqB;AAAA8C,EAAA,GAArB9C,qBAAqB;AA2F3B,eAAeA,qBAAqB;AAAC,IAAA8C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}